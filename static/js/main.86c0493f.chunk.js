(this["webpackJsonpfinal-assignment1.1"]=this["webpackJsonpfinal-assignment1.1"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,r){},,,,,,,function(e,t,r){},function(e,t,r){},,,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),s=r(17),a=r.n(s),u=(r(23),r(24),r(11)),i=r(3),o=r(9),l=r(2),j=r.n(l),b=r(5),d=r(4),h=r(14),p="https://final-assignment-1-2.herokuapp.com/user",f=function(){var e=Object(b.a)(j.a.mark((function e(t){var r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(p,"?username=").concat(t));case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Could not complete request.");case 6:return e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",[null,n]);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",[e.t0.message,[]]);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(j.a.mark((function e(t){var r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(p,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":"{5AE44539-43F8-4340-BE30-B08C2ABA09C7}"},body:JSON.stringify({username:t,orders:[]})});case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Could not create user. "+t," is already taken!");case 6:return e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",[null,n]);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",[e.t0.message,[]]);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(j.a.mark((function e(t){var r,n,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t);case 2:if(r=e.sent,n=Object(d.a)(r,2),c=n[0],s=n[1],null===c){e.next=8;break}return e.abrupt("return",[c,null]);case 8:if(!(s.length>0)){e.next=10;break}return e.abrupt("return",[null,s.pop()]);case 10:return e.next=12,x(t);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(b.a)(j.a.mark((function e(t){var r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(p,"/").concat(t));case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Could not fetch user");case 6:return e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",[null,n]);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",[e.t0.message,null]);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),v=function(e,t){sessionStorage.setItem(e,JSON.stringify(t))},g="coffee-user",y=r(0),w=Object(n.createContext)(),k=function(){return Object(n.useContext)(w)},C=function(e){var t=e.children,r=Object(n.useState)(function(e){var t=sessionStorage.getItem(e);return t?JSON.parse(t):null}(g)),c=Object(d.a)(r,2),s={user:c[0],setUser:c[1]};return Object(y.jsx)(w.Provider,{value:s,children:t})},S=(r(27),{required:!0,minLength:3,maxLength:10}),T=function(){var e=Object(h.a)(),t=e.register,r=e.handleSubmit,c=e.formState.errors,s=k(),a=s.user,u=s.setUser,l=Object(i.g)(),p=Object(n.useState)(!1),f=Object(d.a)(p,2),x=f[0],m=f[1],w=Object(n.useState)(null),C=Object(d.a)(w,2),T=C[0],A=C[1];Object(n.useEffect)((function(){null!==a&&l("orders"),console.log("User has changed!",a)}),[a,l]);var E=function(){var e=Object(b.a)(j.a.mark((function e(t){var r,n,c,s,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,m(!0),e.next=4,O(r);case 4:n=e.sent,c=Object(d.a)(n,2),s=c[0],a=c[1],s&&A(s),null!==a&&(v(g,a),u(a)),m(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=c.username?"required"===c.username.type?Object(y.jsx)("span",{children:" A valid username is required"}):"minLength"===c.username.type?Object(y.jsx)("span",{children:"The username is too short!"}):"maxLength"===c.username.type?Object(y.jsx)("span",{children:"The username is too long!"}):void 0:null;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{children:"What is your name?"}),Object(y.jsxs)("form",{onSubmit:r(E),children:[Object(y.jsxs)("fieldset",{id:"field",children:[Object(y.jsx)("label",{htmlFor:"username",id:"label",children:"Username:"}),Object(y.jsx)("input",Object(o.a)({id:"input",type:"text",placeholder:"John Doe"},t("username",S))),F]}),Object(y.jsx)("button",{type:"submit",disabled:x,id:"loginButton",children:"Continue"}),x&&Object(y.jsx)("p",{id:"loading",children:"Logging in..."}),T&&Object(y.jsx)("p",{children:T})]})]})},A=function(){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(T,{})})},E=r(6),F=function(){var e=Object(b.a)(j.a.mark((function e(t,r){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(p,"/").concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json","x-api-key":"{5AE44539-43F8-4340-BE30-B08C2ABA09C7}"},body:JSON.stringify({username:t.username,orders:[].concat(Object(E.a)(t.orders),[r])})});case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("Could not update the request");case 6:return e.next=8,n.json();case 8:return c=e.sent,e.abrupt("return",[null,c]);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",[e.t0.message,null]);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}(),B=function(){var e=Object(b.a)(j.a.mark((function e(t){var r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(p,"/").concat(t),{method:"PATCH",headers:{"Content-Type":"application/json","x-api-key":"{5AE44539-43F8-4340-BE30-B08C2ABA09C7}"},body:JSON.stringify({orders:[]})});case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Could not update orders");case 6:return e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",[null,n]);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",[e.t0.message,null]);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),N=(r(28),function(e){var t=e.onOrder,r=Object(h.a)(),n=r.register,c=r.handleSubmit;return Object(y.jsxs)("form",{onSubmit:c((function(e){var r=e.orderNotes;t(r)})),children:[Object(y.jsxs)("fieldset",{children:[Object(y.jsx)("label",{htmlFor:"order-notes",id:"searchTag",children:"Search:"}),Object(y.jsx)("input",Object(o.a)(Object(o.a)({type:"text"},n("orderNotes")),{},{placeholder:"Type something!"}))]}),Object(y.jsx)("button",{id:"submitButton",type:"submit",children:"Submit"})]})}),P=function(e){var t=e.translateText,r=(void 0===t?[]:t).split("").map((function(e,t){return Object(y.jsx)("img",{src:"img/"+e+".png",alt:e},t+e)}));return Object(y.jsx)("section",{children:r})},J=function(e){return function(t){return null!==k().user?Object(y.jsx)(e,Object(o.a)({},t)):Object(y.jsx)(i.a,{to:"/"})}},L=(r(29),J((function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),r=t[0],c=t[1],s=k(),a=s.user,u=s.setUser,i=function(){var e=Object(b.a)(j.a.mark((function e(t){var r,n,s,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),t){e.next=4;break}return alert("Please form a word or sentence"),e.abrupt("return");case 4:return e.next=6,F(a,t);case 6:if(r=e.sent,n=Object(d.a)(r,2),s=n[0],i=n[1],null===s){e.next=12;break}return e.abrupt("return");case 12:c(t),v(g,i),u(i),console.log("Error",s),console.log("result",i);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h1",{children:"Sign Alphabet"}),Object(y.jsx)("section",{id:"order-notes",children:Object(y.jsx)(N,{onOrder:i})}),Object(y.jsx)("h4",{id:"result",children:"Result: "}),r&&Object(y.jsx)(P,{translateText:r})]})}))),U=function(e){var t=e.username;return Object(y.jsx)("header",{children:Object(y.jsxs)("h4",{children:["Hello, welcome back ",t," "]})})},q=(r(16),function(e){e.logout;var t=k(),r=t.user,n=t.setUser,c=function(){var e=Object(b.a)(j.a.mark((function e(){var t,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are you sure?\n This can not be undone!")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,B(r.id);case 4:if(t=e.sent,c=Object(d.a)(t,1),null===c[0]){e.next=9;break}return e.abrupt("return");case 9:s=Object(o.a)(Object(o.a)({},r),{},{orders:[]}),v(g,s),n(s);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)("ul",{children:Object(y.jsx)("li",{children:Object(y.jsx)("button",{onClick:c,id:"clearButton",className:"history",children:"Clear history"})})})}),I=function(e){var t=e.order;return Object(y.jsxs)("p",{children:[" ",t," "]})},H=function(e){var t=e.orders,r=(void 0===t?[]:t).map((function(e,t){return Object(y.jsx)(I,{order:e},t+e)}));return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("p",{className:"history",id:"prevSearch",children:"Previous searches:"}),Object(y.jsx)("section",{id:"section",children:Object(y.jsx)("ul",{children:Object(y.jsx)("li",{children:r})})})]})},D=r(18),z=(r(30),J((function(){var e=k(),t=e.user,r=e.setUser;return Object(D.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var n,c,s,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t.id);case 2:n=e.sent,c=Object(d.a)(n,2),s=c[0],a=c[1],null===s&&(v(g,a),r(a));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r,t.id]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h1",{children:"Profile"}),Object(y.jsx)(U,{username:t.username}),Object(y.jsx)(q,{}),Object(y.jsx)(H,{orders:t.orders})]})}))),M=(r(31),function(){var e=k(),t=e.user,r=e.setUser;return Object(y.jsxs)("nav",{className:"navbar",children:[Object(y.jsx)("ul",{children:Object(y.jsx)("li",{id:"tag",children:"The Amazing Translator"})}),null!==t&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("ul",{children:[Object(y.jsx)("li",{className:"nav1",children:Object(y.jsx)(u.b,{to:"/orders",children:"Translator"})}),Object(y.jsx)("li",{className:"nav1",children:Object(y.jsx)(u.b,{to:"/profile",children:"Profile"})})]}),Object(y.jsx)("button",{id:"logOut",onClick:function(){var e;window.confirm("Are you certain?")&&(e=g,sessionStorage.removeItem(e),r(null))},children:"Log out"})]})]})});var R=function(){return Object(y.jsx)(u.a,{children:Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(M,{}),Object(y.jsxs)(i.d,{children:[Object(y.jsx)(i.b,{path:"/",element:Object(y.jsx)(A,{})}),Object(y.jsx)(i.b,{path:"/Orders",element:Object(y.jsx)(L,{})}),Object(y.jsx)(i.b,{path:"/Profile",element:Object(y.jsx)(z,{})})]})]})})},W=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,33)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;r(e),n(e),c(e),s(e),a(e)}))},G=function(e){var t=e.children;return Object(y.jsx)(C,{children:t})};a.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(G,{children:Object(y.jsx)(R,{})})}),document.getElementById("root")),W()}],[[32,1,2]]]);
//# sourceMappingURL=main.86c0493f.chunk.js.map